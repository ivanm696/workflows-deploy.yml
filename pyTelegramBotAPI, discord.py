# bot.py

import os
import time

# Этот код имитирует функции бота
def start_bot():
    """Запускает основную логику бота."""
    
    # Получаем секретный токен из переменной окружения
    # Это важно для безопасности, не храните токены прямо в коде!
    BOT_TOKEN = os.getenv("BOT_TOKEN") 
    
    if not BOT_TOKEN:
        print("❌ ОШИБКА: Токен бота не найден. Установите переменную окружения BOT_TOKEN.")
        return

    print("✅ Бот запущен!")
    print(f"Токен: {BOT_TOKEN[:5]}... (скрыто)") 
    print("Бот готов к выполнению задач. (Например, ждет сообщений от пользователей...)")
    
    # В реальном приложении здесь будет бесконечный цикл:
    # while True:
    #     bot.polling()
    
    # Для целей демонстрации просто ждем 5 секунд
    time.sleep(5) 
    print("Бот завершил работу.")

if __name__ == "__main__":
    # Здесь можно добавить простые тесты, чтобы убедиться, что все работает
    def run_tests():
        print("\n=== Запуск предварительных тестов ===")
        assert os.getenv("TEST_MODE") == "True", "Тестовый режим должен быть включен"
        print("Тесты пройдены успешно!")
    
    # Если скрипт запускается в режиме CI/CD, выполним тесты
    if os.getenv("CI_TEST") == "True":
        run_tests()
    else:
        start_bot()
